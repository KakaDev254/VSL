{% extends 'main.html' %} {% load static %} {% block content %}
<body>
  <!-- Main Content -->

  <div class="container mt-4">
    <div class="row">
      <!-- Main News Section -->
      {% if main_news %}
      <div class="col-lg-7">
        <div class="card main-news">
          {% if main_news.image %}
          <img
            src="{{ main_news.image.url }}"
            class="card-img-top main-news-img"
            alt="{{ main_news.title }}"
          />
          {% endif %}
          <div class="card-body">
            <p class="text-muted small">
              ðŸ“… {{ main_news.created_at|date:"F d, Y" }}
            </p>
            <h3 class="card-title">{{ main_news.title }}</h3>
            <p class="card-text">{{ main_news.content|truncatewords:25 }}</p>
            <a
              href="{% url 'news_detail' main_news.id %}"
              class="btn btn-primary"
              >Read More</a
            >
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Side News Section -->
      <div class="col-lg-5">
        <div class="side-news">
          {% for news in side_news %}
          <div class="card mb-3 side-news-card">
            <div class="row g-0">
              <div class="col-md-4">
                {% if news.image %}
                <img
                  src="{{ news.image.url }}"
                  class="img-fluid side-news-img"
                  alt="{{ news.title }}"
                />
                {% endif %}
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <p class="text-muted small">
                    ðŸ“… {{ news.created_at|date:"F d, Y" }}
                  </p>
                  <h5 class="card-title">{{ news.title }}</h5>
                  <p class="card-text">{{ news.content|truncatewords:15 }}</p>
                  <a
                    href="{% url 'news_detail' news.id %}"
                    class="btn btn-sm btn-outline-primary"
                    >Read More</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% empty %}
          <p>No side news available.</p>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <!-- Standings Table -->
      <div class="col-lg-9 col-md-12">
        <h4 class="text-center text-dark">Standings</h4>
        <table class="table table-striped text-center standings-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Team</th>
              <th>MP</th>
              <th>GF</th>
              <th>GA</th>
              <th>GD</th>
              <th>Pts</th>
            </tr>
          </thead>
          <tbody>
            {% for team in standings %}
            <tr>
              <td>{{ team.pos }}</td>
              <td>{{ team.name }}</td>
              <td>{{ team.matches_played }}</td>
              <td>{{ team.goals_for }}</td>
              <td>{{ team.goals_against }}</td>
              <td>{{ team.goal_difference }}</td>
              <td>{{ team.points }}</td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="7">No standings available</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Fixtures & Results -->
      <div class="col-lg-3 col-md-12">
        <h4 class="text-center text-dark">Upcoming Fixtures</h4>
        <ul class="list-group">
          {% if grouped_fixtures %} {% for match_date, fixtures in
          grouped_fixtures.items %}
          <li class="list-group-item text-center bg-light font-weight-bold">
            {{ match_date|date:"F j, Y" }}
          </li>
          {% for fixture in fixtures %}
          <li class="list-group-item fixture-item">
            {{ fixture.home_team.name }} vs {{ fixture.away_team.name }}
          </li>
          {% endfor %} {% endfor %} {% else %}
          <li class="list-group-item text-center">No upcoming fixtures</li>
          {% endif %}
        </ul>

        <h4 class="text-center text-dark mt-4">Recent Results</h4>
        <ul class="list-group">
          {% for match in recent_matches %}
          <li class="list-group-item list-group-item-info">
            {{ match.home_team.name }} {{ match.home_score }} - {{
            match.away_score }} {{ match.away_team.name }}
            <span class="d-block text-muted"
              >{{ match.match_date|date:"F j, Y" }}</span
            >
          </li>
          {% empty %}
          <li class="list-group-item text-center">No results available.</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</body>
{% endblock content %}
